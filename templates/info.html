{% extends "base.html" %}
{% block title %}Información del Sistema{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="mb-5" data-animate="fade-up">
    <div class="text-center">
        <div class="d-inline-flex align-items-center justify-content-center rounded-circle bg-primary text-white mb-4" style="width: 80px; height: 80px;">
            <i class="fas fa-info-circle fa-2x"></i>
        </div>
        <h1 class="display-5 fw-bold mb-3">Sistema de Evaluación NFTs y PI</h1>
        <p class="lead text-muted mb-4">
            Plataforma integral de evaluación con análisis de inteligencia artificial<br>
            para el estudio de tokens no fungibles y propiedad intelectual
        </p>
    </div>
</section>

<!-- Características del Sistema -->
<div class="section-header mb-4" data-animate="fade-up">
    <h2 class="section-title">
        <i class="fas fa-cogs me-2"></i>
        Características del Sistema
    </h2>
    <p class="section-subtitle">Tecnología avanzada al servicio de la educación jurídica</p>
</div>

<div class="row mb-5">
    <div class="col-lg-4 mb-4" data-animate="fade-up" data-animate-delay="100ms">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center p-4">
                <div class="d-inline-flex align-items-center justify-content-center rounded-circle bg-success-subtle text-success mb-3" style="width: 60px; height: 60px;">
                    <i class="fas fa-robot fa-lg"></i>
                </div>
                <h5 class="card-title">Evaluación con IA</h5>
                <p class="card-text text-muted">
                    Sistema de evaluación automatizada usando inteligencia artificial Claude para analizar respuestas jurídicas complejas.
                </p>
            </div>
        </div>
    </div>

    <div class="col-lg-4 mb-4" data-animate="fade-up" data-animate-delay="200ms">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center p-4">
                <div class="d-inline-flex align-items-center justify-content-center rounded-circle bg-primary-subtle text-primary mb-3" style="width: 60px; height: 60px;">
                    <i class="fas fa-link fa-lg"></i>
                </div>
                <h5 class="card-title">Especialización NFT</h5>
                <p class="card-text text-muted">
                    Casos de estudio específicos sobre tokens no fungibles, smart contracts y su marco legal en Guatemala.
                </p>
            </div>
        </div>
    </div>

    <div class="col-lg-4 mb-4" data-animate="fade-up" data-animate-delay="300ms">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center p-4">
                <div class="d-inline-flex align-items-center justify-content-center rounded-circle bg-info-subtle text-info mb-3" style="width: 60px; height: 60px;">
                    <i class="fas fa-chart-line fa-lg"></i>
                </div>
                <h5 class="card-title">Analytics Avanzado</h5>
                <p class="card-text text-muted">
                    Dashboard completo para instructores con métricas detalladas y análisis de rendimiento estudiantil.
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Estructura del Examen -->
<div class="card mb-5" data-animate="fade-up">
    <div class="card-header">
        <h3 class="card-title mb-0">
            <i class="fas fa-clipboard-list me-2"></i>
            Estructura del Examen Integral
        </h3>
    </div>
    <div class="card-body">
        <div class="row text-center mb-4">
            <div class="col-6 col-lg-3 mb-3">
                <div class="metric-card">
                    <div class="metric-value text-primary">5</div>
                    <div class="metric-label">Casos de Estudio</div>
                </div>
            </div>
            <div class="col-6 col-lg-3 mb-3">
                <div class="metric-card">
                    <div class="metric-value text-success">10</div>
                    <div class="metric-label">Preguntas Totales</div>
                </div>
            </div>
            <div class="col-6 col-lg-3 mb-3">
                <div class="metric-card">
                    <div class="metric-value text-info">20</div>
                    <div class="metric-label">Puntos por Caso</div>
                </div>
            </div>
            <div class="col-6 col-lg-3 mb-3">
                <div class="metric-card">
                    <div class="metric-value text-warning">100</div>
                    <div class="metric-label">Puntos Total</div>
                </div>
            </div>
        </div>

        <div class="alert alert-light border-start border-4 border-primary">
            <h6 class="alert-heading">
                <i class="fas fa-balance-scale me-2"></i>
                Evaluación por Pregunta (10 puntos)
            </h6>
            <div class="row">
                <div class="col-md-6">
                    <div class="d-flex align-items-center mb-2">
                        <div class="badge badge-success me-3">5 pts</div>
                        <div>
                            <strong>Veracidad:</strong><br>
                            <small class="text-muted">Respuesta correcta (Verdadero/Falso)</small>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="d-flex align-items-center mb-2">
                        <div class="badge badge-primary me-3">5 pts</div>
                        <div>
                            <strong>Argumentación IA:</strong><br>
                            <small class="text-muted">Justificación evaluada automáticamente</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Casos de Estudio -->
<div class="section-header mb-4" data-animate="fade-up">
    <h2 class="section-title">
        <i class="fas fa-gavel me-2"></i>
        Casos de Estudio Incluidos
    </h2>
    <p class="section-subtitle">Situaciones jurídicas reales en el contexto de NFTs y propiedad intelectual</p>
</div>

<div class="accordion mb-5" id="casesAccordion">
    <!-- Caso 1 -->
    <div class="accordion-item" data-animate="fade-up">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#case1">
                <div class="d-flex align-items-center gap-3">
                    <div class="badge badge-primary">1</div>
                    <div>
                        <strong>NFT como Título Traslativo de Dominio</strong>
                        <div class="text-muted small mt-1">Transferencia automática de derechos patrimoniales</div>
                    </div>
                </div>
            </button>
        </h2>
        <div id="case1" class="accordion-collapse collapse" data-bs-parent="#casesAccordion">
            <div class="accordion-body">
                <p><strong>Descripción:</strong> Análisis de si la compra de un NFT otorga automáticamente derechos patrimoniales sobre la obra intelectual protegida.</p>
                <div class="badge badge-outline me-2">Art. 3 LPI Guatemala</div>
                <div class="badge badge-outline me-2">Art. 13 LPI</div>
                <div class="badge badge-outline">Separación obra-soporte</div>
            </div>
        </div>
    </div>

    <!-- Caso 2 -->
    <div class="accordion-item" data-animate="fade-up">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#case2">
                <div class="d-flex align-items-center gap-3">
                    <div class="badge badge-primary">2</div>
                    <div>
                        <strong>Smart Contracts y Regalías Automáticas</strong>
                        <div class="text-muted small mt-1">Validez jurídica de contratos inteligentes</div>
                    </div>
                </div>
            </button>
        </h2>
        <div id="case2" class="accordion-collapse collapse" data-bs-parent="#casesAccordion">
            <div class="accordion-body">
                <p><strong>Descripción:</strong> Estudio de la validez legal de regalías programadas en smart contracts ERC-721 bajo la legislación guatemalteca.</p>
                <div class="badge badge-outline me-2">Ley de Firma Electrónica Avanzada</div>
                <div class="badge badge-outline me-2">Autonomía contractual</div>
                <div class="badge badge-outline">Smart contracts</div>
            </div>
        </div>
    </div>

    <!-- Caso 3 -->
    <div class="accordion-item" data-animate="fade-up">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#case3">
                <div class="d-flex align-items-center gap-3">
                    <div class="badge badge-primary">3</div>
                    <div>
                        <strong>Representación Digital vs Reproducción</strong>
                        <div class="text-muted small mt-1">Naturaleza jurídica de la representación NFT</div>
                    </div>
                </div>
            </button>
        </h2>
        <div id="case3" class="accordion-collapse collapse" data-bs-parent="#casesAccordion">
            <div class="accordion-body">
                <p><strong>Descripción:</strong> Análisis de si la representación digital en un NFT constituye reproducción en el sentido del derecho de autor.</p>
                <div class="badge badge-outline me-2">Art. 9 LPI</div>
                <div class="badge badge-outline me-2">Derechos morales/patrimoniales</div>
                <div class="badge badge-outline">Fijación digital</div>
            </div>
        </div>
    </div>

    <!-- Caso 4 -->
    <div class="accordion-item" data-animate="fade-up">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#case4">
                <div class="d-flex align-items-center gap-3">
                    <div class="badge badge-primary">4</div>
                    <div>
                        <strong>Uso Público de NFT Musical</strong>
                        <div class="text-muted small mt-1">Comunicación pública y licencias</div>
                    </div>
                </div>
            </button>
        </h2>
        <div id="case4" class="accordion-collapse collapse" data-bs-parent="#casesAccordion">
            <div class="accordion-body">
                <p><strong>Descripción:</strong> Evaluación de si la propiedad de un NFT musical otorga derechos de comunicación pública para eventos comerciales.</p>
                <div class="badge badge-outline me-2">Arts. 16-17 LPI</div>
                <div class="badge badge-outline me-2">Comunicación pública</div>
                <div class="badge badge-outline">Independencia de derechos</div>
            </div>
        </div>
    </div>

    <!-- Caso 5 -->
    <div class="accordion-item" data-animate="fade-up">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#case5">
                <div class="d-flex align-items-center gap-3">
                    <div class="badge badge-primary">5</div>
                    <div>
                        <strong>NFT y Derechos Constitucionales</strong>
                        <div class="text-muted small mt-1">Balance entre acceso cultural y protección autoral</div>
                    </div>
                </div>
            </button>
        </h2>
        <div id="case5" class="accordion-collapse collapse" data-bs-parent="#casesAccordion">
            <div class="accordion-body">
                <p><strong>Descripción:</strong> Análisis del equilibrio constitucional entre el derecho de acceso a la cultura y la protección de derechos patrimoniales.</p>
                <div class="badge badge-outline me-2">Arts. 71 y 42 CN</div>
                <div class="badge badge-outline me-2">Equilibrio constitucional</div>
                <div class="badge badge-outline">Término de protección</div>
            </div>
        </div>
    </div>
</div>

<!-- Criterios de Evaluación IA -->
<div class="card mb-5" data-animate="fade-up">
    <div class="card-header">
        <h3 class="card-title mb-0">
            <i class="fas fa-brain me-2"></i>
            Criterios de Evaluación con Inteligencia Artificial
        </h3>
    </div>
    <div class="card-body">
        <p class="text-muted mb-4">
            El sistema utiliza un modelo avanzado de IA (Claude) para evaluar las justificaciones jurídicas según 9 criterios específicos:
        </p>
        
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="d-flex align-items-start gap-3">
                    <div class="badge badge-primary">1</div>
                    <div>
                        <h6 class="mb-1">Aplicación normativa guatemalteca</h6>
                        <small class="text-muted">Uso correcto de la Ley de Propiedad Intelectual de Guatemala</small>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="d-flex align-items-start gap-3">
                    <div class="badge badge-primary">2</div>
                    <div>
                        <h6 class="mb-1">Distinción soporte-obra</h6>
                        <small class="text-muted">Comprensión de la separación entre soporte digital y obra protegida</small>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="d-flex align-items-start gap-3">
                    <div class="badge badge-primary">3</div>
                    <div>
                        <h6 class="mb-1">Conocimiento de smart contracts</h6>
                        <small class="text-muted">Aspectos jurídicos de contratos inteligentes</small>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="d-flex align-items-start gap-3">
                    <div class="badge badge-primary">4</div>
                    <div>
                        <h6 class="mb-1">Derechos patrimoniales y morales</h6>
                        <small class="text-muted">Diferenciación y aplicación correcta</small>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="d-flex align-items-start gap-3">
                    <div class="badge badge-primary">5</div>
                    <div>
                        <h6 class="mb-1">Marco constitucional</h6>
                        <small class="text-muted">Balance entre derechos culturales y autorales</small>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="d-flex align-items-start gap-3">
                    <div class="badge badge-primary">6</div>
                    <div>
                        <h6 class="mb-1">Coherencia argumentativa</h6>
                        <small class="text-muted">Lógica y estructura de la argumentación</small>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="d-flex align-items-start gap-3">
                    <div class="badge badge-primary">7</div>
                    <div>
                        <h6 class="mb-1">Uso de jurisprudencia/doctrina</h6>
                        <small class="text-muted">Referencias apropiadas a fuentes legales</small>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="d-flex align-items-start gap-3">
                    <div class="badge badge-primary">8</div>
                    <div>
                        <h6 class="mb-1">Aplicación práctica</h6>
                        <small class="text-muted">Conexión teoría-práctica en NFTs</small>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-12 mb-4">
                <div class="d-flex align-items-start gap-3">
                    <div class="badge badge-primary">9</div>
                    <div>
                        <h6 class="mb-1">Capacidad crítica jurídica</h6>
                        <small class="text-muted">Análisis crítico y fundamentado de situaciones complejas</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="alert alert-info">
            <strong>Cálculo de Puntuación:</strong> 
            El sistema calcula el promedio de los 9 criterios (escala 1-5) y lo multiplica por 5 para obtener la puntuación sobre 5 puntos por cada justificación.
        </div>
    </div>
</div>

<!-- Documento de Referencia -->
<div class="card mb-5" data-animate="fade-up">
    <div class="card-header">
        <h3 class="card-title mb-0">
            <i class="fas fa-book-open me-2"></i>
            Documento Base de Referencia
        </h3>
    </div>
    <div class="card-body">
        <div class="row align-items-center">
            <div class="col-lg-3 text-center mb-3 mb-lg-0">
                <div class="d-inline-flex align-items-center justify-content-center rounded bg-primary-subtle text-primary" style="width: 100px; height: 120px;">
                    <i class="fas fa-file-pdf fa-3x"></i>
                </div>
            </div>
            <div class="col-lg-9">
                <h5 class="mb-2">
                    "NFTs: Un estudio sobre el alcance de la propiedad intelectual en los tokens no fungibles"
                </h5>
                <div class="text-muted mb-3">
                    <strong>Universidad de Chile - Facultad de Derecho</strong><br>
                    <strong>Autor:</strong> Estanislao Dufey Ruiz-Tagle<br>
                    <strong>Profesor Guía:</strong> Santiago Schuster<br>
                    <strong>Fecha:</strong> Marzo 2024
                </div>
                <p class="mb-3">
                    Memoria académica que analiza la intersección entre tokens no fungibles y propiedad intelectual, 
                    abordando aspectos técnicos, jurídicos y prácticos de esta nueva tecnología.
                </p>
                <a href="https://repositorio.uchile.cl/bitstream/handle/2250/199772/NFTs-un-estudio-sobre-el-alcance-de-la-propiedad-intelectual-en-los-tokens-no-fungibles.pdf" 
                   target="_blank" 
                   class="btn btn-primary">
                    <i class="fas fa-external-link-alt me-2"></i>
                    Acceder al Documento
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Información Técnica -->
<div class="section-header mb-4" data-animate="fade-up">
    <h2 class="section-title">
        <i class="fas fa-code me-2"></i>
        Información Técnica
    </h2>
    <p class="section-subtitle">Detalles del sistema y tecnologías utilizadas</p>
</div>

<div class="row mb-5">
    <div class="col-lg-6 mb-4" data-animate="fade-up" data-animate-delay="100ms">
        <div class="card h-100">
            <div class="card-body">
                <h6 class="card-title">
                    <i class="fas fa-server me-2 text-primary"></i>
                    Tecnologías Backend
                </h6>
                <ul class="list-unstyled mb-0">
                    <li class="mb-2">
                        <span class="badge badge-outline me-2">Python</span>
                        Flask 3.0 - Framework web
                    </li>
                    <li class="mb-2">
                        <span class="badge badge-outline me-2">SQLite</span>
                        Base de datos integrada
                    </li>
                    <li class="mb-2">
                        <span class="badge badge-outline me-2">Claude API</span>
                        Evaluación con IA avanzada
                    </li>
                    <li class="mb-2">
                        <span class="badge badge-outline me-2">Docker</span>
                        Containerización y deployment
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="col-lg-6 mb-4" data-animate="fade-up" data-animate-delay="200ms">
        <div class="card h-100">
            <div class="card-body">
                <h6 class="card-title">
                    <i class="fas fa-palette me-2 text-success"></i>
                    Tecnologías Frontend
                </h6>
                <ul class="list-unstyled mb-0">
                    <li class="mb-2">
                        <span class="badge badge-outline me-2">PROFINS XXIV</span>
                        Framework CSS/JS personalizado
                    </li>
                    <li class="mb-2">
                        <span class="badge badge-outline me-2">Inter Font</span>
                        Tipografía moderna y legible
                    </li>
                    <li class="mb-2">
                        <span class="badge badge-outline me-2">Font Awesome</span>
                        Sistema de iconos
                    </li>
                    <li class="mb-2">
                        <span class="badge badge-outline me-2">Responsive</span>
                        Diseño adaptable
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Contacto y Soporte -->
<div class="text-center py-5" data-animate="fade-up">
    <h3 class="mb-4">¿Necesita soporte técnico?</h3>
    <p class="text-muted mb-4">
        Para consultas técnicas, reportes de errores o sugerencias de mejora, 
        contáctese con el equipo de desarrollo.
    </p>
    <div class="d-flex justify-content-center gap-3 flex-wrap">
        <a href="https://legaltech.com.gt" class="btn btn-outline btn-lg">
            <i class="fas fa-globe me-2"></i>
            LegalTech Guatemala
        </a>
        <button class="btn btn-primary btn-lg" onclick="showSystemInfo()">
            <i class="fas fa-info-circle me-2"></i>
            Info del Sistema
        </button>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Función para mostrar información del sistema
    window.showSystemInfo = function() {
        const systemInfo = {
            version: '2.0.0',
            framework: 'PROFINS XXIV',
            lastUpdate: '2025-01-20',
            totalCases: 5,
            totalQuestions: 10,
            aiModel: 'Claude (Anthropic)'
        };
        
        let infoHtml = '<div class="table-responsive"><table class="table table-sm">';
        Object.entries(systemInfo).forEach(([key, value]) => {
            infoHtml += `<tr><td><strong>${key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}:</strong></td><td>${value}</td></tr>`;
        });
        infoHtml += '</table></div>';
        
        if (window.Profins && window.Profins.showModal) {
            window.Profins.showModal('Información del Sistema', infoHtml);
        } else {
            alert('Información del Sistema:\n' + JSON.stringify(systemInfo, null, 2));
        }
    };
    
    console.log('✅ Página de información cargada');
});
</script>
{% endblock %}